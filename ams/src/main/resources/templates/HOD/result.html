<!DOCTYPE html>
<html
  class="loading"
  lang="en"
  data-textdirection="ltr"
  xmlns:th="http://www.thymeleaf.org"
>
  <head>
    <meta charset="UTF-8" />
    <title>Attendance Management System</title>
    <link rel="icon" href="assets/img/favicon.png" />
    <link rel="apple-touch-icon" href="assets/img/apple-touch-icon.png" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Nunito:300,300i,400,400i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
      rel="stylesheet"
    />
    <link
      href="assets/vendor/bootstrap/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="assets/vendor/bootstrap-icons/bootstrap-icons.css"
      rel="stylesheet"
    />
    <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet" />
    <link href="assets/vendor/quill/quill.snow.css" rel="stylesheet" />
    <link href="assets/vendor/quill/quill.bubble.css" rel="stylesheet" />
    <link href="assets/vendor/remixicon/remixicon.css" rel="stylesheet" />
    <link href="assets/vendor/simple-datatables/style.css" rel="stylesheet" />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.10.2/fullcalendar.min.css"
      rel="stylesheet"
    />
    <link href="assets/css/style.css" rel="stylesheet" />
  </head>

  <body>
    <div th:replace="~{HOD/nav :: body}"></div>
    <main id="main" class="main">
      <div class="pagetitle">
        <h1>Result</h1>
        <nav>
          <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="index.html">Home</a></li>
            <li class="breadcrumb-item active">Result</li>
          </ol>
        </nav>
      </div>

      <section class="section result">
        <div class="row">
          <div class="col-lg-8">
            <div class="card">
              <div class="card-body">
                <form class="row mb-3" id="marksForm">
                  <div class="col-4">
                    <label for="class"
                      ><i class="fas fa-graduation-cap"></i> Class</label
                    >
                    <select
                      class="form-select"
                      name="class"
                      id="class"
                      aria-label="Class"
                    >
                      <option selected>Select Class</option>
                      <option value="BCA SEM-1">BCA SEM-1</option>
                      <option value="BCA SEM-2">BCA SEM-2</option>
                      <option value="MCA SEM-1">MCA SEM-1</option>
                      <option value="MCA SEM-2">MCA SEM-2</option>
                    </select>
                  </div>
                  <div class="col-8">
                    <label for="subject"
                      ><i class="fa fa-book"></i> Subject</label
                    >
                    <select
                      class="form-select"
                      name="subject"
                      id="subject"
                      aria-label="Subject"
                    >
                      <option selected>Select Subject</option>
                      <option value="BCA-101(T)">
                        BCA-101(T) Object Oriented Programming Using JAVA
                      </option>
                      <option value="BCA-101(P)">
                        BCA-101(P) Object Oriented Programming Using JAVA
                      </option>
                      <option value="MCA-101(T)">
                        MCA-101(T) Object Oriented Programming Using JAVA
                      </option>
                      <option value="MCA-101(P)">
                        MCA-101(P) Object Oriented Programming Using JAVA
                      </option>
                    </select>
                  </div>
                  <div class="col-4">
                    <label for="examType"
                      ><i class="fas fa-laptop-code"></i> Exam Type</label
                    >
                    <select
                      class="form-select"
                      name="examType"
                      id="examType"
                      aria-label="Exam Type"
                    >
                      <option selected>Select Exam Type</option>
                      <option value="Weekly">Weekly</option>
                      <option value="Internal 1">Internal 1</option>
                      <option value="Internal 2">Internal 2</option>
                      <option value="Continuous Evaluation">
                        Continuous Evaluation
                      </option>
                      <option value="External">External</option>
                    </select>
                  </div>
                  <div class="col-md-4">
                    <label for="examDate" class="form-label"
                      ><i class="far fa-calendar-alt"></i> Exam Date</label
                    >
                    <input
                      type="date"
                      class="form-control"
                      id="examDate"
                      name="examDate"
                    />
                  </div>

                  <div class="col-md-4">
                    <label for="totalMarks" class="form-label"
                      ><i class="fas fa-marker"></i> Total Marks</label
                    >
                    <input
                      type="number"
                      class="form-control"
                      id="totalMarks"
                      name="totalMarks"
                      placeholder="Enter marks"
                    />
                  </div>

                  <div
                    class="col-12"
                    id="marksTableContainer"
                    style="display: none"
                  >
                    <table class="table-custom">
                      <thead>
                        <tr>
                          <th scope="col">Marks</th>
                          <th scope="col">Enrollment No</th>
                          <th scope="col">Student Name</th>
                        </tr>
                      </thead>
                      <tbody id="studentList">
                        <tr>
                          <td>
                            <input
                              type="text"
                              class="form-control"
                              name="totalMark"
                              id="totalMark"
                              style="
                                width: 50px;
                                height: 30px;
                                margin: auto;
                                margin-left: 0px;
                              "
                            />
                          </td>
                          <td>132981273</td>
                          <td>Yashvi Joshi</td>
                        </tr>
                        <tr>
                          <td>
                            <input
                              type="text"
                              class="form-control"
                              name="totalMark"
                              id="totalMark"
                              style="
                                width: 50px;
                                height: 30px;
                                margin: auto;
                                margin-left: 0px;
                              "
                            />
                          </td>
                          <td>132981273</td>
                          <td>Yashvi Joshi</td>
                        </tr>
                        <tr>
                          <td>
                            <input
                              type="text"
                              class="form-control"
                              name="totalMark"
                              id="totalMark"
                              style="
                                width: 50px;
                                height: 30px;
                                margin: auto;
                                margin-left: 0px;
                              "
                            />
                          </td>
                          <td>132981273</td>
                          <td>Yashvi Joshi</td>
                        </tr>
                        <tr>
                          <td>
                            <input
                              type="text"
                              class="form-control"
                              name="totalMark"
                              id="totalMark"
                              style="
                                width: 50px;
                                height: 30px;
                                margin: auto;
                                margin-left: 0px;
                              "
                            />
                          </td>
                          <td>132981273</td>
                          <td>Yashvi Joshi</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                  <div
                    class="col-12 text-end"
                    id="submitButtonContainer"
                    style="display: none"
                  >
                    <button
                      type="submit"
                      class="btn btn-custom"
                      id="uploadMarksBtn"
                      style="width: 150px"
                    >
                      Upload Marks
                    </button>
                  </div>
                </form>
              </div>
            </div>
          </div>
          <div class="col-lg-4">
            <div class="card">
              <div class="card-body">
                <div class="activity">
                  <div
                    class="activity-item d-flex"
                    data-class="BCA SEM-1"
                    data-subject="BCA-101(T)"
                    data-exam-date="2024-06-12"
                    data-exam-type="Weekly"
                    data-exam-marks="20"
                    style="cursor: pointer"
                  >
                    <div class="activite-line"></div>
                    <i
                      class="bi bi-circle-fill activity-badge text-custom align-self-start"
                    ></i>
                    <div class="activity-content">
                      BCA-101(T) Object Oriented Programming Using JAVA
                      <div class="activite-p" style="margin: 10px">
                        Weekly Exam | 12-06-2024
                      </div>
                    </div>
                  </div>

                  <div
                    class="activity-item d-flex"
                    data-class="BCA SEM-1"
                    data-subject="BCA-101(P)"
                    data-exam-date="2024-06-18"
                    data-exam-type="Weekly"
                    data-exam-marks="20"
                    style="cursor: pointer"
                  >
                    <div class="activite-line"></div>
                    <i
                      class="bi bi-circle-fill activity-badge text-custom align-self-start"
                    ></i>
                    <div class="activity-content">
                      BCA-101(P) Object Oriented Programming Using JAVA
                      <div class="activite-p" style="margin: 10px">
                        Weekly Exam | 18-06-2024
                      </div>
                    </div>
                  </div>

                  <div
                    class="activity-item d-flex"
                    data-class="MCA SEM-1"
                    data-subject="MCA-101(T)"
                    data-exam-date="2024-06-12"
                    data-exam-type="Internal 1"
                    data-exam-marks="40"
                    style="cursor: pointer"
                  >
                    <div class="activite-line"></div>
                    <i
                      class="bi bi-circle-fill activity-badge text-custom align-self-start"
                    ></i>
                    <div class="activity-content">
                      MCA-101(T) Object Oriented Programming Using JAVA
                      <div class="activite-p" style="margin: 10px">
                        Internal Exam | 12-06-2024
                      </div>
                    </div>
                  </div>

                  <div
                    class="activity-item d-flex"
                    data-class="MCA SEM-1"
                    data-subject="MCA-101(P)"
                    data-exam-date="2024-06-18"
                    data-exam-type="External"
                    data-exam-marks="60"
                    style="cursor: pointer"
                  >
                    <div class="activite-line"></div>
                    <i
                      class="bi bi-circle-fill activity-badge text-custom align-self-start"
                    ></i>
                    <div class="activity-content">
                      MCA-101(P) Object Oriented Programming Using JAVA
                      <div class="activite-p" style="margin: 10px">
                        External Exam | 18-06-2024
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <script>
      document.addEventListener("DOMContentLoaded", (event) => {
        const classSelect = document.getElementById("class");
        const subjectSelect = document.getElementById("subject");
        const examType = document.getElementById("examType");
        const examDate = document.getElementById("examDate");
        const examMark = document.getElementById("totalMarks");
        const marksTableContainer = document.getElementById(
          "marksTableContainer"
        );
        const submitButtonContainer = document.getElementById(
          "submitButtonContainer"
        );
        const studentList = document.getElementById("studentList");

        const activityItems = document.querySelectorAll(".activity-item");

        function marksForm() {
          const classValue = classSelect.value;
          const subjectValue = subjectSelect.value;
          const examTypeValue = examType.value;
          const examDateValue = examDate.value;
          const examMarksValue = examMark.value.trim();

          if (
            classValue !== "Select Class" &&
            subjectValue !== "Select Subject" &&
            examTypeValue !== "Select Exam Type" &&
            examDateValue !== "" &&
            examMarksValue !== ""
          ) {
            marksTableContainer.style.display = "block";
            submitButtonContainer.style.display = "block";
          } else {
            marksTableContainer.style.display = "none";
            submitButtonContainer.style.display = "none";
          }
        }

        activityItems.forEach((item) => {
          item.addEventListener("click", async () => {
            const classValue = item.getAttribute("data-class");
            const subjectValue = item.getAttribute("data-subject");
            const examDateValue = item.getAttribute("data-exam-date");
            const examTypeValue = item.getAttribute("data-exam-type");
            const examMarksValue = item.getAttribute("data-exam-marks");

            classSelect.value = classValue;
            subjectSelect.value = subjectValue;
            examDate.value = examDateValue;
            examType.value = examTypeValue;
            examMark.value = examMarksValue;

            marksForm();
            await fetchStudentData(subjectValue);
          });
        });
        classSelect.addEventListener("change", marksForm);
        subjectSelect.addEventListener("change", async () => {
          marksForm();
          await fetchStudentData(subjectSelect.value);
        });
        examType.addEventListener("change", marksForm);
        examDate.addEventListener("change", marksForm);
        examMark.addEventListener("input", marksForm);
      });
    </script>

    <script src="assets/vendor/apexcharts/apexcharts.min.js"></script>
    <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="assets/vendor/chart.js/chart.umd.js"></script>
    <script src="assets/vendor/echarts/echarts.min.js"></script>
    <script src="assets/vendor/quill/quill.js"></script>
    <script src="assets/vendor/simple-datatables/simple-datatables.js"></script>
    <script src="assets/vendor/tinymce/tinymce.min.js"></script>
    <script src="assets/vendor/php-email-form/validate.js"></script>

    <script src="assets/js/main.js"></script>
  </body>
</html>
